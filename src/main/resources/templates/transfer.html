<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
	integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
	crossorigin="anonymous">

<title>Transfer</title>
</head>

<body>

	<div class="card-header">
		<ul class="nav nav-tabs card-header-tabs">
			<li class="nav-item"><a class="btn btn-primary" href="/home">PayMyBuddy</a>
			</li>
			<li class="nav-item"><a class="nav-link active"
				aria-current="true" href="/home">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="/transfer">Transfer</a></li>
			<li class="nav-item"><a class="nav-link active"
				aria-current="true" href="/profile">Profile</a></li>
			<li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
			<li class="nav-item"><a class="nav-link active" href="/logoff">Log
					off</a></li>
		</ul>
	</div>

	<section>

		<div class="container special">

			<h2 class="h2">TRANSFER</h2>

			<div class="table-responsive">

				<table class="table table-striped table-sm">

					<thead>
						<tr>
							<th>MAKE A TRANSFER</th>

							<th><a>BALANCE AVAILABLE : <span
									data-th-text="${appUser.balance}"></span>
							</a></th>

							<th><a href="/contact"><button class="btn btn-info">ADD
										CONNECTION</button> </a></th>
						</tr>
					</thead>

					<tbody>
						<form th:action="@{/maketransfer}" th:object="${transaction}"
							method="post">

							<div class="form-group">

								<tr>
									<td><select id="type" th:field="*{type}"
										class="form-control">
											<option th:each="type:${types}" th:value="${type}"
												th:text="${type}"></option>
									</select> <small id="mailHelp" class="form-text text-muted">
											Select the type of transaction </small></td>

									<td><input type="number" id="amount" th:field="*{amount}"
										class="form-control" placeholder="100,00 â‚¬" step="0.01"
										min="0.01" max="99999999.99" required /> <small id="mailHelp"
										class="form-text text-muted"> Enter the transaction
											amount in euros excluding fees </small></td>

									<td><a>YOUR ACCOUNT : <span
											data-th-text="${appUser.account.id}"></span>
									</a></td>
								</tr>

								<tr>
									<td><select id="friend" th:field="*{friend}"
										class="form-control">
											<option data-th-each="f: ${friends}" th:value="${f}">
												<span data-th-text="${f}"> </span>
											</option>
									</select> <small id="mailHelp" class="form-text text-muted"> You
											must select your beneficiary if it is a payment transaction.
									</small></td>

									<td><input type="text" id="description"
										th:field="*{description}" class="form-control"
										placeholder="Description" /> <small id="mailHelp"
										class="form-text text-muted"> Enter the description of
											the transaction </small></td>

									<td><a>
											<button type="submit" class="btn btn-danger">VALIDATE
												TRANSFER</button>
									</a></td>
								</tr>

							</div>

						</form>
					</tbody>

				</table>

				<table class="table table-striped table-sm">
					<thead>
						<tr colspan=7>
							<th>TRANSFER HISTORY</th>
						</tr>
					</thead>
					<thead>
						<tr>
							<th>Connections</th>
							<th>Email</th>
							<th>Type</th>
							<th>Account</th>
							<th>Amount</th>
							<th>Description</th>
							<th>Date</th>
						</tr>
					</thead>
					<tbody>
						<tr data-th-if="${lts.empty}">
							<td colspan=10>No transaction added to the database.</td>
						</tr>
						<tr data-th-each="transaction:${lts}">
							<td><span data-th-text="${transaction.pseudo}"> </span></td>
							<td><span data-th-text="${transaction.friend}"> </span></td>
							<td><span data-th-text="${transaction.type}"> </span></td>
							<td><span data-th-text="${transaction.accountUser}">
							</span></td>
							<td><span data-th-text="${transaction.amount}"> </span></td>
							<td><span data-th-text="${transaction.description}">
							</span></td>
							<td><span data-th-text="${transaction.date}"> </span></td>
						</tr>
					</tbody>

				</table>
			</div>
		</div>

	</section>

</body>

</html>