<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
		integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<title>Transfer</title>

	<!--style>
		body {
			padding-top: 50px;
		}

		.special {
			padding-top: 50px;
		}
	</style-->
</head>

<body>

	<nav aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="#">Home</a></li>
			<li class="breadcrumb-item"><a href="./">Transfer</a></li>
			<li class="breadcrumb-item active" aria-current="page">Payment</li>
		</ol>
	</nav>

	<section>

		<div class="container special">

			<h2 class="h2">TRANSFER</h2>

			<div class="table-responsive">

				<table class="table table-striped table-sm">

					<thead>
						<tr>
							<th>
								MAKE A TRANSFER
							</th>
							<th>
								<a>BALANCE AVAILABLE:
									<span data-th-text="${appUser.balance}"></span>
								</a>
							</th>
							<th>
								<a th:href="@{/getcontact(emailUser=${emailUser})}" <button class="btn btn-info">ADD
									CONTACT</button>
								</a>
							</th>
						</tr>
					</thead>

					<tbody>
						<!--form-->
						<form method="post" th:action="@{/maketransfer(emailUser=${emailUser})}"
							th:object="${transaction}">
							<div class="form-group">

								<tr>
									<td>
										<select id="type" th:field="*{type}" class="form-control">
											<option th:each="type:${types}" th:value="${type}" th:text="${type}">
											</option>
										</select>
										<small id="mailHelp" class="form-text text-muted">
											Select the type of transaction
										</small>
									</td>
									<td>
										<input type="number" id="amount" th:field="*{amount}" class="form-control"
											placeholder="100,00 €" step="0.01" min="0.01" max="99999999.99" required />
										<small id="mailHelp" class="form-text text-muted">
											Enter the transaction amount in euros excluding fees
										</small>
									</td>
									<td>
										<select id="account" th:field="*{accountUser}" class="form-control">
											<option data-th-each="account:${accounts}" th:value="${account.id}"
												th:text="${account.id}">
											</option>
										</select>
										<small id="mailHelp" class="form-text text-muted">
											Select your account
										</small>
									</td>
								</tr>
								<tr>
									<td>
										<select id="friend" th:field="*{friend}" class="form-control">
											<option data-th-each="f: ${friends}" th:value="${f}">
												<span data-th-text="${f}"> </span>
											</option>
										</select>
										<small id="mailHelp" class="form-text text-muted">
											You must select your beneficiary if it is a payment transaction.
										</small>
									</td>
									<td>
										<input type="text" id="description" th:field="*{description}"
											class="form-control" placeholder="Description" />
										<small id="mailHelp" class="form-text text-muted">
											Enter the description of the transaction
										</small>

									</td>
									<td>
										<a>
											<button type="submit" class="btn btn-danger">VALIDATE TRANSFER</button>
										</a>
									</td>
								</tr>

							</div>

						</form>
					</tbody>

				</table>

				<table class="table table-striped table-sm">
					<thead>
						<tr colspan=7>
							<th>TRANSFER HISTORY</th>
						</tr>
					</thead>
					<thead>
						<tr>
							<th>Sender</th>
							<th>Beneficiary</th>
							<th>Account</th>
							<th>Type</th>
							<th>Amount</th>
							<th>Description</th>
							<th>Date</th>
							<th>LastBalance</th>
							<th>NewBalance</th>
							<th>Fee</th>
						</tr>
					</thead>
					<tbody>
						<tr data-th-if="${transactions.empty}">
							<td colspan=10>No transaction added to the database.</td>
						</tr>
						<tr data-th-each="ptransaction:${pageTransactions.content}">
							<td>
								<span data-th-text="${ptransaction.user}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.friend}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.accountUser}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.type}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.amount}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.description}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.date}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.lastBalance}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.newBalance}"> </span>
							</td>
							<td>
								<span data-th-text="${ptransaction.fee}"> </span>
							</td>
						</tr>
					</tbody>

				</table>
				<div>
					<ul class="pagination">
						<li class="page-item"><a class="page-link" href="#">Précédent</a></li>
						<li class="page-item"><a class="page-link" href="#">1</a></li>
						<li class="page-item"><a class="page-link" href="#">2</a></li>
						<li class="page-item"><a class="page-link" href="#">3</a></li>
						<li class="page-item"><a class="page-link" href="#">4</a></li>
						<li class="page-item"><a class="page-link" href="#">5</a></li>
						<li class="page-item"><a class="page-link" href="#">Suivant</a></li>
					</ul>
				</div>
			</div>
		</div>

	</section>

	<!--footer>
		<nav aria-label="Exemple de pagination">
			<ul class="pagination">
				<li class="page-item"><a class="page-link" href="#">Précédent</a></li>
				<li class="page-item"><a class="page-link" href="#">1</a></li>
				<li class="page-item"><a class="page-link" href="#">2</a></li>
				<li class="page-item"><a class="page-link" href="#">3</a></li>
				<li class="page-item"><a class="page-link" href="#">4</a></li>
				<li class="page-item"><a class="page-link" href="#">5</a></li>
				<li class="page-item"><a class="page-link" href="#">Suivant</a></li>
			</ul>
		</nav>
	</footer-->



	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
		integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
		crossorigin="anonymous"></script>

</body>

</html>